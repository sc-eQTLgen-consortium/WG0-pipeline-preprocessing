---
####################################################################################
##### The following arguments are for indicating file locations on your system #####
####################################################################################
refs:
  ref_dir: /path/to/transcriptome/dir ### This is the path to the directory containing the transcriptome files

inputs:
  singularity_image: /path/to/singularity/image.sif ### The complete path to the singularity image that has all the softwares
  bind_path: /path/to/bind/to/mount ### List of paths to bind to Singularity. You can specify multiple directories by adding a "," between them. Eg. ${DIRECTORY1},${DIRECTORY2}
  samplesheet_filepath: /path/to/sample/metadata/file.tsv ### tab separated file that has a header. Each line has a pool name used for the scRNA-seq directories and the number of individuals in each pool
  fastqs: /path/to/10x/fastq/dir ### This is the path to the directory containing the 10x fastq files

outputs: 
  output_dir: /path/to/parent/out/dir ### The path to the parent dir where you would like all outputs/results saved. This path must exist before running.

settings:
    ambient_rna_correction: False

##############################################################################################################
##### The following arguments are common parameters that may need to be changed depending on the dataset #####
##############################################################################################################
cellranger:
  cellranger_count_memory: 16 ###
  cellranger_count_threads: 2 ###
  cellranger_count_timee: 60 ###
  cellranger_aggr_memory: 32 ###
  cellranger_aggr_threads: 4 ###
  cellranger_aggr_time: 355 ###

cellbender:
  cellbender_memory: -1 ###
  cellbender_threads: 1 ###
  cellbender_gpu_time: 0 ###
  cellbender_cpu_time: 1 ###
  cellbender_use_gpu: True ###
  cellbender_epochs: 150
  cellbender_learning_rate: 1e-4
  cellbender_report_mem_per_thread_gb: -1 ###
  cellbender_report_disk_per_thread_gb: 2 ###
  cellbender_report_threads: 1 ###
  cellbender_report_time_min: 15 ###

###############################################################################################################################################
##### The following arguments are for manually running/rerunning specific pools with specific arguments for scrublet and DoubletDetection #####
###############################################################################################################################################
cellbender_manual:
  run_cellbender_manual: False ### logical whether or not to run CellBender with manual thresholding. This is only used if there are pools where the automatically chosen threshold is incorrect. In that case, you can manually select and use the below variables to assign the desired percentile and threshold
  cellbender_manual_pools: None ### List of the pools that need manual threshold setting for scrublet. ex [Pool1,Pool7]
  cellbender_manual_epochs: None ### List of the percentile of variable genes to use for the manual threshold setting for scrublet. Note that the location in this vector is directly relational to the scrublet_manual_threshold_pools vector. ex [85,95]
  cellbender_manual_learning_rates: None ### List of the manually set thresholds for scrublet. Note that the location in this vector is directly relational to the scrublet_manual_threshold_pools vector. ex [0.2,0.24]

############################################################################################################################################
##### The following arguments in this section should not need to be changed/edited unless the default options do not work your dataset #####
############################################################################################################################################
cellbender_extra:
  cellbender_flat_memory: 3.5
  cellbender_scaling_memory: 0.0015